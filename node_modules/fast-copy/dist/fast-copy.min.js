!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["fast-copy"]=t()}(this,(function(){"use strict";var e=Function.prototype.toString,t=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,i=Object.getOwnPropertySymbols,f=Object.getPrototypeOf,u=Object.prototype,a=u.hasOwnProperty,c=u.propertyIsEnumerable,s="function"==typeof i,l="function"==typeof WeakMap,p=function(){if(l)return function(){return new WeakMap};var e=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}();return function(){return new e}}(),y=function(n,r){var o=n.__proto__||f(n);if(!o)return t(null);var i=o.constructor;if(i===r.Object)return o===r.Object.prototype?{}:t(o);if(~e.call(i).indexOf("[native code]"))try{return new i}catch(e){}return t(o)},d=function(e,t,n,r){var o=y(e,t);for(var f in r.set(e,o),e)a.call(e,f)&&(o[f]=n(e[f],r));if(s)for(var u=i(e),l=0,p=u.length,d=void 0;l<p;++l)d=u[l],c.call(e,d)&&(o[d]=n(e[d],r));return o},h=function(e,t,f,u){var a=y(e,t);u.set(e,a);for(var c=s?o(e).concat(i(e)):o(e),l=0,p=c.length,d=void 0,h=void 0;l<p;++l)if("callee"!==(d=c[l])&&"caller"!==d)if(h=r(e,d)){h.get||h.set||(h.value=f(e[d],u));try{n(a,d,h)}catch(e){a[d]=h.value}}else a[d]=f(e[d],u);return a},b=Array.isArray,g=Object.getPrototypeOf,v=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function O(e,t){var n=!(!t||!t.isStrict),r=t&&t.realm||v,o=n?h:d,i=function(e,t){if(!e||"object"!=typeof e)return e;if(t.has(e))return t.get(e);var f,u,a,c=e.__proto__||g(e),s=c&&c.constructor;if(!s||s===r.Object)return o(e,r,i,t);if(b(e)){if(n)return h(e,r,i,t);f=new s,t.set(e,f);for(var l=0,p=e.length;l<p;++l)f[l]=i(e[l],t);return f}if(e instanceof r.Date)return new s(e.getTime());if(e instanceof r.RegExp)return(f=new s(e.source,e.flags||(a="",(u=e).global&&(a+="g"),u.ignoreCase&&(a+="i"),u.multiline&&(a+="m"),u.unicode&&(a+="u"),u.sticky&&(a+="y"),a))).lastIndex=e.lastIndex,f;if(r.Map&&e instanceof r.Map)return f=new s,t.set(e,f),e.forEach((function(e,n){f.set(n,i(e,t))})),f;if(r.Set&&e instanceof r.Set)return f=new s,t.set(e,f),e.forEach((function(e){f.add(i(e,t))})),f;if(r.Blob&&e instanceof r.Blob)return e.slice(0,e.size,e.type);if(r.Buffer&&r.Buffer.isBuffer(e))return f=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(e.length):new s(e.length),t.set(e,f),e.copy(f),f;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(e))return f=new s(e.buffer.slice(0)),t.set(e,f),f;if(e instanceof r.ArrayBuffer)return f=e.slice(0),t.set(e,f),f}return"function"==typeof e.then||e instanceof Error||r.WeakMap&&e instanceof r.WeakMap||r.WeakSet&&e instanceof r.WeakSet?e:o(e,r,i,t)};return i(e,p())}return O.default=O,O.strict=function(e,t){return O(e,{isStrict:!0,realm:t?t.realm:void 0})},O}));
