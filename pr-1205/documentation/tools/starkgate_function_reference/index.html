<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>StarkGate function and event reference :: Starknet documentation</title>
    <link rel="canonical" href="https://docs.starknet.io/documentation/tools/starkgate_function_reference/">
    <link rel="prev" href="../dai_token_migration/">
    <link rel="next" href="../important_addresses/">
    <meta name="description" content="Comprehensive function and event reference for StarkGate.">
    <meta name="generator" content="Antora 3.1.1">


    <!-- Primary Meta Tags -->
    <meta name="title" content="Starknet Documentation">
    <meta name="description" content="Reference documentation for developers building on Starknet.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://docs.starknet.io/">
    <meta property="og:title" content="Starknet Documentation">
    <meta property="og:description" content="Reference documentation for developers building on Starknet.">
    <meta property="og:image" content="https://www.starknet.io/starknet-docs-card.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.starknet.io/">
    <meta property="twitter:title" content="Starknet Documentation">
    <meta property="twitter:description" content="Reference documentation for developers building on Starknet.">
    <meta property="twitter:image" content="https://www.starknet.io/starknet-docs-card.png">  <link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
  <link id="theme" rel="stylesheet" title="Default" href="../../../_/css/site.css?new">
  <link rel="stylesheet" title="Dark" href="../../../_/css/dark-site.css?new">
  <link rel="stylesheet" href="../../../_/css/vendor/tabs.css">
  <link rel="stylesheet" href="../../../_/css/home.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WY42TERK5P"></script>
    <script>function gtag(){dataLayer.push(arguments)};window.dataLayer=window.dataLayer||[];gtag('js',new Date());gtag('config','G-WY42TERK5P')</script>
    <script>var uiRootPath = '../../../_'</script>
    <script src="../../../_/js/vendor/medium-zoom.js?new"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
        (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3529885,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>
<link rel="icon" href="../../../_/img/favicon/favicon.ico" type="image/x-icon">

<!-- For all browsers -->
<link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/favicon-16x16.png">

<!-- For Google and Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="../../../_/img/favicon/android-chrome-192x192.png">

<!-- For iPad -->
<link rel="apple-touch-icon" type="image/png" sizes="167x167" href="../../../_/img/favicon/apple-touch-icon.png">
<!-- For iPhone -->
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../../_/img/favicon/apple-touch-icon.png">  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="../../.." class="starknet-logo"></a>
        <div class="vertical-divider desktop-only"></div>
        <a href="../../.." class="docs-logo desktop-only">Docs</a>
      </div>
      <!--<a class="navbar-item" href="https://docs.starknet.io">Starknet documentation</a>-->
      <div id="autocomplete" class="autocomplete-root"></div>
      <div class="header-right">
        <div class="theme-toggle-container mobile-only">
          <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle"></button>
        </div>
        <button class="navbar-burger" data-target="topbar-nav">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
    
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <a class="navbar-link" href="https://starknet.io/" target="_blank">Starknet Home</a>
        </div>
        <div class="navbar-item">
          <a class="navbar-link" href="https://starknet.io/building-on-starknet/tutorials/" target="_blank">Tutorials</a>
        </div>
        <div class="theme-toggle-container">
          <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        </div>
      </div>
    </div>
  </nav>
</header><div class="toolbar" role="navigation">
  <div class="components-versions desktop-only">
  </div>
  <span></span>
  <span></span>
  <a href="../../" class="home-link mask-svg-center"></a>
  <div id="mobile-autocomplete" class="mobile-only"></div>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../">Starknet</a></li>
    <li>Developer tools and resources</li>
    <li>StarkGate bridge guide</li>
    <li><a href="./">StarkGate function and event reference</a></li>
  </ul>
</nav>
  <div class="edit-this-page">
    <a href="https://github.com/starknet-io/starknet-docs/edit/main/components/Starknet/modules/tools/pages/starkgate_function_reference.adoc"><img class="pencil">Edit this Page</a>
  </div>
</div>
<div class="body">
<div class="nav-container" data-component="documentation" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../">Starknet</a></h3>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a 
       class="nav-link"
     href="../../">Overview</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Quick start</span>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
        <span>
    <a 
       class="nav-link nav-link-with-toggle"
     href="../../quick_start/environment_setup/">Setting up your environment</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../quick_start/environment_setup/#installing_starkli">Installing Starkli</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../quick_start/environment_setup/#setting_environment_variables_for_starkli">Environment variables</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../quick_start/environment_setup/#installing_scarb">Installing Scarb</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
        <span>
    <a 
       class="nav-link nav-link-with-toggle"
     href="../../quick_start/set_up_an_account/">Setting up an account</a>
        </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../quick_start/set_up_an_account/#creating_an_account">Creating an account</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../quick_start/set_up_an_account/#deploying_an_account">Deploying an account</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../../quick_start/declare_a_smart_contract/">Declaring a smart contract</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../../quick_start/deploy_a_smart_contract/">Deploying a smart contract</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../../quick_start/interact_with_a_smart_contract/">Interacting with a smart contract</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Release information</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../../starknet_versions/version_notes/">Release notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../../starknet_versions/deprecated/">Deprecated, unsupported, and removed features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Architecture</span>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Blockchain architecture</span>
<ul class="nav-list">
  <li class="nav-item parent" data-depth="3">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Blocks and transactions</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/header/">Block structure</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/transaction-life-cycle/">Transaction lifecycle</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/transactions/">Transaction types</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/fee-mechanism/">Gas and transaction fees</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="3">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">State</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/starknet-state/">Starknet state</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/on-chain-data/">Data availability</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Network_Architecture/messaging-mechanism/">L1-L2 messaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Accounts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/introduction/">What is an account?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/approach/">Starknet&#8217;s account interface</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/account_functions/">Account interface function reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/deploying_new_accounts/">Deploying new accounts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/universal-deployer/">Universal Deployer Contract</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Accounts/simplified_transaction_flow/">Simplified transaction flow</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Contracts</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/contract-classes/">Contract classes and instances</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/class-hash/">Class hash</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/contract-address/">Contract address</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/contract-storage/">Contract storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/contract-abi/">Contract ABI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/starknet-events/">Events</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/contract-syntax/">Migrating a contract from Cairo v1 to Cairo v2</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/cairo-and-sierra/">Cairo and Sierra</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/serialization_of_Cairo_types/">Serialization of Cairo types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/system-calls-cairo1/">System calls</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Smart_Contracts/execution_info/">Execution information for the current block</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Cryptography</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Cryptography/p-value/">The STARK field</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Cryptography/stark-curve/">The STARK curve</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Cryptography/hash-functions/">Hash functions</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a 
       class="nav-link"
     href="../../architecture_and_concepts/Economics-of-Starknet/">The Economics of Starknet</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Developer tools and resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../starknet-book/">The Starknet Book</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../devtools/">Developer tools</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Cairo 0 tools</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../cli/starkli/">Legacy Starknet CLI reference</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../cli/starknet-compiler-options/">Legacy compiler CLI reference</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Full nodes and API services</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../api-services/">Full nodes and API services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../starknet_versions/juno_versions/">Juno release notes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../../starknet_versions/pathfinder_versions/">Pathfinder release notes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../ref_block_explorers/">Block explorers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../audit/">Audit providers</a>
  </li>
  <li class="nav-item parent" data-depth="2">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">StarkGate bridge guide</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../starkgate-bridge/">Overview</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a 
       class="nav-link"
     href="../starkgate_architecture/">StarkGate architecture</a>
  </li>
  <li class="nav-item parent" data-depth="3">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Procedures</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../starkgate-automated_actions_with_bridging/">Performing a Smart Deposit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../starkgate-adding_a_token/">Adding a token</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../starkgate-cancelling%20a%20deposit/">Cancelling a deposit</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../starkgate-estimating_fees/">Estimating StarkGate fees</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a 
       class="nav-link"
     href="../dai_token_migration/">Migrating DAI v0 to DAI</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a 
       class="nav-link"
     href="./">StarkGate function and event reference</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="1">
    <button class="nav-item-toggle mask-svg-center"></button>
    <span class="nav-text">Important addresses</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../important_addresses/">Starknet contracts and sequencer addresses</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a 
       class="nav-link"
     href="../bridged_tokens/">Bridged tokens</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a 
       class="nav-link"
     href="../limits_and_triggers/">Current limits</a>
  </li>
</ul>
  </li>
  <li class="nav-item parent" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a 
       class="nav-link"
     href="../../glossary/">Glossary</a>
  </li>
</ul>
  </li>
</ul>
    <div class="navbar-end mobile-only">
      <div class="hr-divider"></div>
      <div class="navbar-item-flex">
        <a class="navbar-link" href="https://starknet.io/" target="_blank">Starknet Home</a>
        <a class="link-icon" href="https://starknet.io/" target="_blank"></a>
      </div>
      <div class="navbar-item-flex">
        <a class="navbar-link" href="https://starknet.io/building-on-starknet/tutorials/" target="_blank">Tutorials</a>
        <a class="link-icon" href="https://starknet.io/building-on-starknet/tutorials/" target="_blank"></a>
      </div>
    </div>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">StarkGate function and event reference</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The StarkGate smart contracts include functions that you use to implement various flows in a dApp.</p>
</div>
<div class="paragraph">
<p>For information on the movement of funds between Ethereum and Starknet, see <a href="../starkgate-bridge/" class="xref page">StarkGate bridge overview</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>StarkGate 2.0 provides a contract that enables seamless backward compatibility with the previous version of StarkGate.</p>
</div>
<div class="paragraph">
<p>When you update the code in your contract, make sure that you use the most up-to-date versions of all StarkGate contracts.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The L1 functions and their interfaces, where available, are defined in the following smart contracts:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Contract</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarkgateManager.sol"><code>StarkgateManager.sol</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The StarkGate Manager.</p>
<p class="tableblock">Use the Manager to enroll a new token.</p>
<p class="tableblock">An interface is available through <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/IStarkgateManager.sol"><code>IStarkgateManager.sol</code></a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#enrollTokenBridge"><code>enrollTokenBridge</code></a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarkgateRegistry.sol"><code>StarkgateRegistry.sol</code></a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The StarkGate Registry.</p>
</div>
<div class="paragraph">
<p>Use the Registry to view the addresses of existing bridges and to stop servicing a specific token.</p>
</div>
<div class="paragraph">
<p>An interface is available through <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/IStarkgateRegistry.sol"><code>IStarkgateRegistry.sol</code></a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#getBridge"><code>getBridge</code></a></p>
</li>
<li>
<p><a href="#getWithdrawalBridges"><code>getWithdrawalBridges</code></a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol"><code>StarknetTokenBridge.sol</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The primary StarkGate bridge contract. The functions and events in this reference that provide the main user bridge functionality are defined in this contract.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#deposit"><code>deposit</code></a></p>
</li>
<li>
<p><a href="#depositCancelRequest"><code>depositCancelRequest</code></a></p>
</li>
<li>
<p><a href="#depositReclaim"><code>depositReclaim</code></a></p>
</li>
<li>
<p><a href="#depositWithMessage"><code>depositWithMessage</code></a></p>
</li>
<li>
<p><a href="#depositWithMessageCancelRequest"><code>depositWithMessageCancelRequest</code></a></p>
</li>
<li>
<p><a href="#depositWithMessageReclaim"><code>depositWithMessageReclaim</code></a></p>
</li>
<li>
<p><a href="#getStatus"><code>getStatus</code></a></p>
</li>
<li>
<p><a href="#withdraw"><code>withdraw</code></a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/IStarkgateService.sol"><code>IStarkgateService.sol</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An interface to check if a contract is servicing a token.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#isServicingToken"><code>isServicingToken</code></a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The L2 functions and their interfaces, where available, are defined in the following smart contracts:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Contract</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge.cairo"><code>token_bridge.cairo</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The StarkGate bridge implementation on L2. This contract includes the standard functions for a token bridge.</p>
<p class="tableblock">An interface is available through <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo"><code>token_bridge_interface.cairo</code></a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="#get_erc20_class_hash"><code>get_erc20_class_hash</code></a></p>
</li>
<li>
<p><a href="#get_identity"><code>get_identity</code></a></p>
</li>
<li>
<p><a href="#get_l1_token"><code>get_l1_token</code></a></p>
</li>
<li>
<p><a href="#get_l2_token"><code>get_l2_token</code></a></p>
</li>
<li>
<p><a href="#get_remaining_withdrawal_quota"><code>get_remaining_withdrawal_quota</code></a></p>
</li>
<li>
<p><a href="#get_version"><code>get_version</code></a></p>
</li>
<li>
<p><a href="#initiate_withdraw"><code>initiate_withdraw</code></a></p>
</li>
<li>
<p><a href="#on_receive"><code>on_receive</code></a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="l1_function_reference"><a class="anchor" href="#l1_function_reference"></a>L1 function reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Functions are listed in alphabetical order.</p>
</div>
<hr>
<div class="sect2">
<h3 id="deposit"><a class="anchor" href="#deposit"></a><code>deposit</code></h3>
<h4 id="description" class="discrete">Description</h4>
<div class="paragraph">
<p>Deposits the specified amount of an ERC-20 token to the L1 StarkGate bridge contract.</p>
</div>
<div class="paragraph">
<p>The deposit function does the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Transfers the funds from the caller&#8217;s account to the Starknet bridge contract</p>
</li>
<li>
<p>Emits the <code>Deposit</code> event with the sender&#8217;s address on L1, the recipient&#8217;s address on L2, and the amount</p>
</li>
</ul>
</div>
<h4 id="visibility" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>payable</code></p>
</div>
<h4 id="parameters" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>Deposit</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<colgroup>
<col style="width: 35%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce for the L1 transaction.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>fee</em></code>
</td>
<td class="hdlist2">
<p>The Starknet fee sent with the transaction.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol"><code>StarknetTokenBridge.sol</code></a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L284"><code>deposit</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L65"><code>Deposit</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="depositCancelRequest"><a class="anchor" href="#depositCancelRequest"></a><code>depositCancelRequest</code></h3>
<h4 id="description_2" class="discrete">Description</h4>
<div class="paragraph">
<p>Sends a request to StarkGate to cancel a deposit.</p>
</div>
<div class="paragraph">
<p>You can send a cancellation request if the funds you transfer from L1 to L2 do not appear on L2 within a reasonable amount of time.</p>
</div>
<div class="paragraph">
<p>In order to guard against an attack on Starknet, it takes approximately five days to cancel a deposit. When StarkGate receives the cancellation request, a counter begins. When exactly five days have passed, and the funds still do not appear on L2, you can reclaim the deposit using the <a href="#depositReclaim"><code>depositReclaim</code></a> function.</p>
</div>
<div class="paragraph">
<p>The <code>depositReclaim</code> function can only be used once for any deposit cancellation request.</p>
</div>
<h4 id="visibility_2" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_2" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>nonpayable</code></p>
</div>
<h4 id="parameters_2" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_2" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_2" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>DepositCancelRequest</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions_2" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol"><code>StarknetTokenBridge.sol</code></a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L515"><code>depositCancelRequest</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L73"><code>DepositCancelRequest</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="depositReclaim"><a class="anchor" href="#depositReclaim"></a><code>depositReclaim</code></h3>
<h4 id="description_3" class="discrete">Description</h4>
<div class="paragraph">
<p>Reclaims a deposit after a five day period has passed from the time that StarkGate received a deposit cancellation request from the <code>depositCancelRequest</code> function.</p>
</div>
<h4 id="visibility_3" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_3" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>nonpayable</code></p>
</div>
<h4 id="parameters_3" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_3" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_3" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>event DepositReclaimed</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions_3" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <code>StarknetTokenBridge.sol</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L588"><code>depositReclaim</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L80"><code>DepositReclaimed</code></a></p>
</li>
</ul>
</div>
<h4 id="see_also" class="discrete">See also</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#depositCancelRequest"><code>depositCancelRequest</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="depositWithMessage"><a class="anchor" href="#depositWithMessage"></a><code>depositWithMessage</code></h3>
<h4 id="description_4" class="discrete">Description</h4>
<div class="paragraph">
<p>Similar to <a href="#deposit"><code>deposit</code></a>, with a message attached.</p>
</div>
<div class="paragraph">
<p>With this function, a deposit transaction can trigger subsequent actions. For example, you can deposit funds and include a message to transfer those funds to another address. <code>depositWithMessage</code> lets you execute these two separate transactions with a single user action.</p>
</div>
<div class="paragraph">
<p>After depositing to another recipient, the L1 handler in <code>token_bridge.cairo</code> calls the <code>on_receive</code> function in the contract of the recipient.</p>
</div>
<div class="paragraph">
<p>If <code>on_receive</code> returns <code>true</code>, then the <code>on_receive</code> function succeeded. If it returns <code>false</code>, or if it doesn&#8217;t return any value because the <code>on_receive</code> function is not implemented in the recipient contract, the operation fails and the transaction is reverted.</p>
</div>
<h4 id="visibility_4" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_4" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>payable</code></p>
</div>
<h4 id="parameters_4" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256[] calldata <em>message</em></code>
</td>
<td class="hdlist2">
<p>The message attached to the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_4" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_4" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>DepositWithMessage</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256[] <em>message</em></code>
</td>
<td class="hdlist2">
<p>The message attached to the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce for the L1 transaction.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>fee</em></code>
</td>
<td class="hdlist2">
<p>The Starknet fee sent with the transaction.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions_4" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol">StarknetTokenBridge.sol</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L255"><code>depositWithMessage</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L37"><code>DepositWithMessage</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="depositWithMessageCancelRequest"><a class="anchor" href="#depositWithMessageCancelRequest"></a><code>depositWithMessageCancelRequest</code></h3>
<h4 id="description_5" class="discrete">Description</h4>
<div class="paragraph">
<p>Sends a request to StarkGate to cancel a deposit sent with <code>depositWithMessage</code>.</p>
</div>
<div class="paragraph">
<p>Similar to <code>depositCancelRequest</code>.</p>
</div>
<h4 id="visibility_5" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_5" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>nonpayable</code></p>
</div>
<h4 id="parameters_5" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256[] calldata <em>message</em></code>
</td>
<td class="hdlist2">
<p>The message attached to the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_5" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_5" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>DepositWithMessageCancelRequest</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256[] <em>message</em></code>
</td>
<td class="hdlist2">
<p>The message attached to the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce for the L1 transaction.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions_5" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol">StarknetTokenBridge.sol</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L534"><code>depositWithMessageCancelRequest</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L46"><code>DepositWithMessageCancelRequest</code></a></p>
</li>
</ul>
</div>
<h4 id="see_also_2" class="discrete">See also</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#depositWithMessage"><code>depositWithMessage</code></a></p>
</li>
<li>
<p><a href="#depositCancelRequest"><code>depositCancelRequest</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="depositWithMessageReclaim"><a class="anchor" href="#depositWithMessageReclaim"></a><code>depositWithMessageReclaim</code></h3>
<h4 id="description_6" class="discrete">Description</h4>
<div class="paragraph">
<p>Sends a request to StarkGate to cancel a deposit sent with <code>depositWithMessage</code>.</p>
</div>
<div class="paragraph">
<p>Similar to <code>depositCancelRequest</code>.</p>
</div>
<div class="paragraph">
<p>Reclaims a deposit sent with a message after a five day period has passed from the time that StarkGate received a deposit cancellation request from the <code>depositWithMessageCancelRequest</code> function.</p>
</div>
<h4 id="visibility_6" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_6" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>nonpayable</code></p>
</div>
<h4 id="parameters_6" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce of the deposit.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_6" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_6" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>DepositWithMessageCancelRequest</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>address indexed <em>sender</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the account that sent the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 indexed <em>l2Recipient</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the recipient.
The L2 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256[] <em>message</em></code>
</td>
<td class="hdlist2">
<p>The message attached to the deposit.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>nonce</em></code>
</td>
<td class="hdlist2">
<p>The nonce for the L1 transaction.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definitions_6" class="discrete">Function and event definitions</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol">StarknetTokenBridge.sol</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L564"><code>depositWithMessageReclaim</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L54"><code>DepositWithMessageReclaimed</code></a></p>
</li>
</ul>
</div>
<h4 id="see_also_3" class="discrete">See also</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#depositCancelRequest"><code>depositCancelRequest</code></a></p>
</li>
<li>
<p><a href="#depositReclaim"><code>depositReclaim</code></a></p>
</li>
<li>
<p><a href="#depositWithMessageCancelRequest"><code>depositWithMessageCancelRequest</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="enrollTokenBridge"><a class="anchor" href="#enrollTokenBridge"></a><code>enrollTokenBridge</code></h3>
<h4 id="description_7" class="discrete">Description</h4>
<div class="paragraph">
<p>Creates a Starknet bridge for the specified ERC-20 token contract address in the multi-token bridge contracts and adds the token to the StarkGate Registry.</p>
</div>
<div class="paragraph">
<p>Does not work for any ERC-20 token bridge&#8217;s contract address that is already in the registry.</p>
</div>
<div class="paragraph">
<p>Enrolling a new bridge creates a new ERC-20 contract on L2. You can see the class hash for this contract using <a href="#get_erc20_class_hash"><code>get_erc20_class_hash</code></a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Enrolling a new bridge does not add it to the StarkGate GUI. You can use a block explorer to use the newly created bridge.</p>
</div>
</td>
</tr>
</table>
</div>
<h4 id="visibility_7" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_7" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>payable</code></p>
</div>
<div class="paragraph">
<p>The message payload needs to include funds to cover the Starknet (L2) fee for executing this transaction. You can include this payload using a standard wrapper such as web3.js.</p>
</div>
<h4 id="parameters_7" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired ERC-20 token.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_7" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_7" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>TokenEnrollmentInitiated</code></p>
</div>
<h4 id="function_and_event_definition" class="discrete">Function and event definition</h4>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarkgateManager.sol#L132"><code>enrollTokenBridge</code></a> in <code>StarkgateManager.sol</code></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L34"><code>TokenEnrollmentInitiated</code></a> in <code>StarknetTokenBridge.sol</code></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="estimateDepositFeeWei"><a class="anchor" href="#estimateDepositFeeWei"></a><code>estimateDepositFeeWei</code></h3>
<h4 id="description_8" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns an estimate of the fee, in Wei, for depositing funds to the L1 StarkGate bridge contract.</p>
</div>
<h4 id="visibility_8" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_8" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_8" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_8" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>uint256</code>
</td>
<td class="hdlist2">
<p>An estimate of the fee, in Wei, for depositing funds to the L1 StarkGate bridge contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_8" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L142C28-L142C28"><code>estimateDepositFeeWei</code></a> in <code>StarknetTokenBridge.sol</code></p>
</div>
<h4 id="additional_resources" class="discrete">Additional resources</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#deposit"><code>deposit</code></a></p>
</li>
<li>
<p><a href="#depositWithMessage"><code>depositWithMessage</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="estimateEnrollmentFeeWei"><a class="anchor" href="#estimateEnrollmentFeeWei"></a><code>estimateEnrollmentFeeWei</code></h3>
<h4 id="description_9" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns an estimate of the fee, in Wei, for creating and registering a new bridge using the <code>enrollTokenBridge</code> function.</p>
</div>
<h4 id="visibility_9" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_9" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_9" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_9" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>uint256</code>
</td>
<td class="hdlist2">
<p>An estimate of the fee, in Wei, for creating and registering a new bridge.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_9" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_2" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L146"><code>estimateEnrollmentFeeWei</code></a> in <code>StarknetTokenBridge.sol</code></p>
</div>
<h4 id="additional_resource" class="discrete">Additional resource</h4>
<div class="ulist">
<ul>
<li>
<p><a href="#enrollTokenBridge"><code>enrollTokenBridge</code></a></p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="getBridge"><a class="anchor" href="#getBridge"></a><code>getBridge</code></h3>
<h4 id="description_10" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the address of the bridge for the specified token, or a value indicating if the bridge does not exist, is blocked, or is deactivated.</p>
</div>
<h4 id="visibility_10" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_10" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_10" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired ERC-20 token.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_10" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>address</em></code>
</td>
<td class="hdlist2">
<p>The address of the bridge for the specified token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>Address(0)</code>
</td>
<td class="hdlist2">
<p>The bridge does not exist.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>Address(1)</code>
</td>
<td class="hdlist2">
<p>The bridge is blocked or deactivated.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_10" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_3" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starkware-libs/starkgate/blob/ce53961e124c3f8a5e73e9ec2a7f4dcbc1ab6ab9/src/solidity/IStarkgateRegistry.sol#L8"><code>getBridge</code></a> in <code>IStarkgateRegistry.sol</code></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="getRegistry"><a class="anchor" href="#getRegistry"></a><code>getRegistry</code></h3>
<h4 id="description_11" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the address of the StarkGate Registry contract.</p>
</div>
<div class="paragraph">
<p>Only the Manager uses this function.</p>
</div>
<h4 id="visibility_11" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_11" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_11" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="returns_11" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address</code>
</td>
<td class="hdlist2">
<p>The address of the Registry contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_11" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_4" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarkgateManager.sol#L24"><code>getRegistry</code></a> in <code>StarkgateManager.sol</code></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="getStatus"><a class="anchor" href="#getStatus"></a><code>getStatus</code></h3>
<h4 id="description_12" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the status of a token in StarkGate.</p>
</div>
<div class="paragraph">
<p><code>deploy</code> transaction triggered by the <code>enrollTokenBridge</code> API.</p>
</div>
<h4 id="visibility_12" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_12" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_12" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired ERC-20 token.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_12" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>TokenStatus</code>
</td>
<td class="hdlist2">
<p>One of the following values:</p>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
0
</td>
<td class="hdlist2">
<p>Unknown. The bridge does not recognize the token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
1
</td>
<td class="hdlist2">
<p>Pending. The token has been enrolled to StarkGate, but the <code>deploy</code> transaction has not yet successfully completed. You can deposit funds.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
2
</td>
<td class="hdlist2">
<p>Active. The <code>deploy</code> transaction for this token has completed successfully and StarkGate recognizes the token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
3
</td>
<td class="hdlist2">
<p>Deactivated. The token has been removed from StarkGate. You cannot deposit funds.</p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_12" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_5" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L198C23-L198C23"><code>getStatus</code></a> in <code>StarknetTokenBridge.sol</code></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="getWithdrawalBridges"><a class="anchor" href="#getWithdrawalBridges"></a><code>getWithdrawalBridges</code></h3>
<h4 id="description_13" class="discrete">Description</h4>
<div class="paragraph">
<p>Retrieves a list of all bridge addresses that have ever facilitated withdrawals for the specified token.</p>
</div>
<div class="paragraph">
<p>In a case where an inactive bridge for a specific token might still have funds locked, you can use this function to identify all bridges that ever serviced that token.</p>
</div>
<div class="paragraph">
<p>If you used a bridge for a given token that subsequently was replaced with a new or updated bridge, but you still have funds locked on the first bridge, you might not know the address of the old bridge. This function returns</p>
</div>
<h4 id="visibility_13" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_13" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_13" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_13" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address[] memory <em>bridges</em></code>
</td>
<td class="hdlist2">
<p>An array of addresses of all bridges that ever serviced <code>token</code>.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_13" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_6" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarkgateRegistry.sol#L110"><code>getWithdrawalBridges</code></a> in <code>StarkgateRegistry.sol</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="identify"><a class="anchor" href="#identify"></a><code>identify</code></h3>
<h4 id="description_14" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the name and version of the <code>StarknetTokenBridge.sol</code> contract.</p>
</div>
<h4 id="visibility_14" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_14" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>pure</code></p>
</div>
<h4 id="parameters_14" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_14" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>string <em>memory</em></code>
</td>
<td class="hdlist2">
<p>The name and version of the <code>StarknetTokenBridge.sol</code> contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_14" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_7" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L92"><code>identify</code></a> in <code>StarknetTokenBridge.sol</code></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="isServicingToken"><a class="anchor" href="#isServicingToken"></a><code>isServicingToken</code></h3>
<h4 id="description_15" class="discrete">Description</h4>
<div class="paragraph">
<p>Checks whether the calling contract is currently providing a service for the specified token.</p>
</div>
<h4 id="visibility_15" class="discrete">Visibility</h4>
<div class="paragraph">
<p><code>external</code></p>
</div>
<h4 id="state_mutability_15" class="discrete">State Mutability</h4>
<div class="paragraph">
<p><code>view</code></p>
</div>
<h4 id="parameters_15" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_15" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>true</code>
</td>
<td class="hdlist2">
<p>The calling contract is currently providing a service for the token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>false</code>
</td>
<td class="hdlist2">
<p>The calling contract is not currently providing a service for the token.</p>
</td>
</tr>
</table>
</div>
<h4 id="emitted_event_15" class="discrete">Emitted event</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_8" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/IStarkgateService.sol#L9C14-L9C30"><code>isServicingToken</code></a> in <code>IStarkgateService.sol</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="withdraw"><a class="anchor" href="#withdraw"></a><code>withdraw</code></h3>
<h4 id="description_16" class="discrete">Description</h4>
<div class="paragraph">
<p>Transfers the specified amount of the specified token to the address of the recipient specified in the <code>l1_recipient</code> parameter of the <code>initiate_token_withdraw</code> function on L2.</p>
</div>
<div class="paragraph">
<p>Anyone can call this function, but only after the withdraw message has been recorded on the Starknet Core Contract.</p>
</div>
<h4 id="parameters_16" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 30%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>address <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the withdrawal.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address <em>recipient</em></code>
</td>
<td class="hdlist2">
<p>(Optional)
The recipient.
If you don&#8217;t specify this parameter, the withdraw function uses the sender&#8217;s address.</p>
</td>
</tr>
</table>
</div>
<h4 id="state_mutability_16" class="discrete">State mutability</h4>
<div class="paragraph">
<p><code>nonpayable</code></p>
</div>
<h4 id="returns_16" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="emitted_event_16" class="discrete">Emitted event</h4>
<div class="paragraph">
<p><code>Withdrawal</code></p>
</div>
<div class="hdlist stripes-odd">
<div class="title">Event attributes</div>
<table>
<tr>
<td class="hdlist1">
<code>address indexed <em>recipient</em></code>
</td>
<td class="hdlist2">
<p>The recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>address indexed <em>token</em></code>
</td>
<td class="hdlist2">
<p>The address of the contract for the desired token.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount of the withdrawal.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_and_event_definition_2" class="discrete">Function and event definition</h4>
<div class="paragraph">
<p>Contract: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol"><code>StarknetTokenBridge.sol</code></a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Function: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L481"><code>withdraw</code></a></p>
</li>
<li>
<p>Event: <a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/solidity/StarknetTokenBridge.sol#L62"><code>Withdrawal</code></a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="l2_function_reference"><a class="anchor" href="#l2_function_reference"></a>L2 function reference</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Functions are listed in alphabetical order.</p>
</div>
<hr>
<div class="sect2">
<h3 id="get_erc20_class_hash"><a class="anchor" href="#get_erc20_class_hash"></a><code>get_erc20_class_hash</code></h3>
<h4 id="description_17" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the current class hash of the implementation used by the ERC-20 contract. Use the class hash as the type when deploying the ERC-20 contract on L2.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If StarkWare changes the class hash such that it is no longer the class hash that you used when deploying your bridge contract, this function returns the new class hash. If you want to refer to the class hash that you used when deploying your contract, see your deployed contract on Starknet.</p>
</div>
</td>
</tr>
</table>
</div>
<h4 id="parameters_17" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_17" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>ClassHash</code>
</td>
<td class="hdlist2">
<p>The class hash of the ERC-20 token contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_9" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge.cairo#L376-L378"><code>get_erc20_class_hash</code></a> in <code>token_bridge.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="get_identity"><a class="anchor" href="#get_identity"></a><code>get_identity</code></h3>
<h4 id="description_18" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns a string in a felt252 type with the identity of StarkGate.</p>
</div>
<h4 id="parameters_18" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_18" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>felt252</code>
</td>
<td class="hdlist2">
<p>The identity of StarkGate.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_10" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L8"><code>get_identity</code></a> in <code>token_bridge_interface.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="get_l1_token"><a class="anchor" href="#get_l1_token"></a><code>get_l1_token</code></h3>
<h4 id="description_19" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the L1 address that corresponds to the matching L2 address of an ERC-20 token contract.</p>
</div>
<h4 id="parameters_19" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code><em>l2_token_address</em>: ContractAddress</code>
</td>
<td class="hdlist2">
<p>The L2 address of the ERC-20 token contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_19" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>EthAddress</code>
</td>
<td class="hdlist2">
<p>The L1 address of the ERC-20 token contract.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>EthAddressZeroable::zero()</code>
</td>
<td class="hdlist2">
<p>The token is not found in the bridge.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_11" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L9"><code>get_l1_token</code></a> in <code>token_bridge_interface.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="get_l2_token"><a class="anchor" href="#get_l2_token"></a><code>get_l2_token</code></h3>
<h4 id="description_20" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the L2 address that corresponds to the matching L1 address of an ERC-20 token contract.</p>
</div>
<div class="paragraph">
<p>If the token is not found in the bridge, this function returns <code>0</code>.</p>
</div>
<h4 id="parameters_20" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>l1_token_address</code>
</td>
<td class="hdlist2">
<p>The L1 address of the ERC-20 token contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_20" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 20%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>ContractAddress <em>address</em></code>
</td>
<td class="hdlist2">
<p>The L2 address of the ERC-20 token contract.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>ContractAddressZeroable::zero()</code>
</td>
<td class="hdlist2">
<p>The token is not found in the bridge.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_12" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L10"><code>get_l2_token</code></a> in <code>token_bridge_interface.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="get_remaining_withdrawal_quota"><a class="anchor" href="#get_remaining_withdrawal_quota"></a><code>get_remaining_withdrawal_quota</code></h3>
<h4 id="description_21" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the amount that the user can withdraw within the current 24-hour time period. The time period begins at 00:00 UTC.</p>
</div>
<h4 id="parameters_21" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 25%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>l1_token_address</code>
</td>
<td class="hdlist2">
<p>The L1 address of the ERC-20 token contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_21" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 25%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>u256</code>
</td>
<td class="hdlist2">
<p>The amount that can currently be withdrawn from the bridge, in units defined by the ERC-20 token contract.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_13" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L11"><code>get_remaining_withdrawal_quota</code></a> in <code>token_bridge_interface.cairo</code></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="get_version"><a class="anchor" href="#get_version"></a><code>get_version</code></h3>
<h4 id="description_22" class="discrete">Description</h4>
<div class="paragraph">
<p>Returns the current version of StarkGate.</p>
</div>
<h4 id="parameters_22" class="discrete">Parameters</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="returns_22" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 25%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>felt252</code>
</td>
<td class="hdlist2">
<p>The current version of StarkGate.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_14" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L7"><code>get_version</code></a> in <code>token_bridge_interface.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="initiate_withdraw"><a class="anchor" href="#initiate_withdraw"></a><code>initiate_withdraw</code></h3>
<h4 id="description_23" class="discrete">Description</h4>
<div class="paragraph">
<p>Initiates a withdrawal from L2. After initiating the withdrawal, the function does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Burns the transferred amount of tokens from the balance of the withdrawals initiator.</p>
</li>
<li>
<p>Sends a message to the relevant L1 bridge with the amount to be transferred, and the recipient&#8217;s address.</p>
</li>
</ol>
</div>
<h4 id="parameters_23" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 25%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>l1_recipient</code>
</td>
<td class="hdlist2">
<p>The L1 address of the recipient.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>EthAddress <em>token</em></code>
</td>
<td class="hdlist2">
<p>The L1 address of the ERC-20 token contract.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>uint256 <em>amount</em></code>
</td>
<td class="hdlist2">
<p>The amount to transfer.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_23" class="discrete">Returns</h4>
<div class="paragraph">
<p>None.</p>
</div>
<h4 id="function_definition_15" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/token_bridge_interface.cairo#L12"><code>initiate_withdraw</code></a> in <code>token_bridge_interface.cairo</code>.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="on_receive"><a class="anchor" href="#on_receive"></a><code>on_receive</code></h3>
<h4 id="description_24" class="discrete">Description</h4>
<div class="paragraph">
<p>An interface to an implementation of the <code>on_receive</code> function that you must provide in your L2 contract in order to enable the <code>depositWithMessage</code> function to succeed.</p>
</div>
<div class="paragraph">
<p>The L2 contract that receives the message that is sent with the <code>depositWithMessage</code> function must implement a callback function named <code>on_receive</code>.</p>
</div>
<div class="paragraph">
<p>Upon completion, the <code>depositWithMessage</code> function triggers a call to the <code>on_receive</code> callback function on the receiving L2 contract. The <code>on_receive</code> function receives the deposit message as input, and it must return <code>true</code> for the deposit to succeed.</p>
</div>
<div class="paragraph">
<p>If <code>on_receive</code> returns <code>false</code>, or if the receiving contract does not implement <code>on_receive</code>, the <code>depositWithMessage</code> L1 handler fails, and the user can only recover their funds using the <a href="#depositWithMessageCancelRequest"><code>depositWithMessageCancelRequest</code></a> function.</p>
</div>
<h4 id="parameters_24" class="discrete">Parameters</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 35%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code><em>l2_token</em>: ContractAddress</code>
</td>
<td class="hdlist2">
<p>The L2 address of the ERC-20 token contract.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code><em>amount</em>: uint256</code>
</td>
<td class="hdlist2">
<p>The amount deposited.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code><em>depositor</em></code>: EthAddress
</td>
<td class="hdlist2">
<p>L1 address of the deposit sender.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code><em>message</em>: Span&lt;felt252&gt;</code>
</td>
<td class="hdlist2">
<p>The message that was sent with the <code>depositWithMessage</code> function.</p>
</td>
</tr>
</table>
</div>
<h4 id="returns_24" class="discrete">Returns</h4>
<div class="hdlist stripes-odd">
<table>
<colgroup>
<col style="width: 25%;">
<col>
</colgroup>
<tr>
<td class="hdlist1">
<code>true</code>
</td>
<td class="hdlist2">
<p>The <code>on_receive</code> function completed successfully.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>false</code>
</td>
<td class="hdlist2">
<p>The <code>on_receive</code> function did not complete successfully. The transaction is reverted.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
No value
</td>
<td class="hdlist2">
<p>If the recipients&#8217;s smart contract does not implement the <code>on_receive</code> function, the call fails to execute, and the transaction is reverted.</p>
</td>
</tr>
</table>
</div>
<h4 id="function_definition_16" class="discrete">Function definition</h4>
<div class="paragraph">
<p><a href="https://github.com/starknet-io/starkgate-contracts/tree/v2.0/src/cairo/receiver_interface.cairo#L6"><code>on_receive</code></a> in <code>receiver_interface.cairo</code>.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="../dai_token_migration/">Migrating DAI v0 to DAI</a></span>
  <span class="next"><a href="../important_addresses/">Starknet contracts and sequencer addresses</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <div class="footerdiv">
    <div class="footer-left">
      <p>Built with  by the Starknet community</p>
    </div>
    <div class="footer-network-info"><strong>Mainnet: 0.13.1 | Sepolia: 0.13.1 | Goerli: 0.13.1</strong>
</div>
    <!-- <div class="community-section">
      <p class="community-section__text">Follow Lisk on: </p>
      <div class="community-section__icons"> -->
    <div class="community_icons">
        <a href="https://twitter.com/@Starknet" title="Twitter" target="_blank" class="footer_icon">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" font-size="1.25rem" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg>
          <p>Twitter</p>
        </a>
        <a href="https://starknet.io/discord" title="Discord" target="_blank" class="footer_icon">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" font-size="1.25rem" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"></path></svg>
          <p>Discord</p>
        </a>
        <a href="https://github.com/starknet-io/starknet-docs" title="GitHub" target="_blank" class="footer_icon">
          <svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" font-size="1.25rem" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg>
          <p>GitHub</p>
        </a>
  <!--    </div> -->
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js?new"></script>
<script async src="../../../_/js/vendor/highlight.js?new"></script>
<script async src="../../../_/js/vendor/tabs-block-behaviour.js?new"></script>
<script async src="../../../_/js/vendor/swagger-ui.js?new"></script>
<script async src="../../../_/js/vendor/component-versions.js?new"></script>
<script src="../../../_/js/vendor/custom.js?new"></script>
<script async src="../../../_/js/vendor/tabs.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-js"></script>
<script
    src="https://cdn.jsdelivr.net/npm/algoliasearch@4.14.3/dist/algoliasearch-lite.umd.js"
    integrity="sha256-dyJcbGuYfdzNfifkHxYVd/rzeR6SLLcDFYEidcybldM="
    crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-recent-searches"></script>
<script src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-query-suggestions"></script>

<script>
  const { createQuerySuggestionsPlugin } = window['@algolia/autocomplete-plugin-query-suggestions'];
  const { createLocalStorageRecentSearchesPlugin, search } = window['@algolia/autocomplete-plugin-recent-searches'];
  const { algoliasearch } = window;
  const { autocomplete, getAlgoliaResults, getAlgoliaFacets} = window["@algolia/autocomplete-js"]
</script>

<script>
  function createLocalStorageRecentlyViewedItems(params) {
      const {
        onReset,
        onSubmit,
        subscribe,
        ...plugin
      } = createLocalStorageRecentSearchesPlugin({
        ...params,
        search(params) {
          if (params.query) {
            return [];
          }

          return search(params);
        },
        transformSource({ source, onRemove, state }) {
          const transformedSource = params.transformSource
            ? params.transformSource({ source, onRemove, state })
            : source;

          return {
            ...transformedSource,
            getItemUrl({ item }) {
              return item.url;
            },
            templates: {
              ...transformedSource.templates,
              header({html}) {
                return (html`
                  <div>
                    <span class="aa-SourceHeaderTitle">Recently viewed</span>
                  </div>
                `);
              },
              item({ item, components, html }) {

               const removeRecentItem = (event) => {
                    event.preventDefault();
                    event.stopPropagation();
                    onRemove(item.id);
                }

                return (html`
                  <a class="aa-ItemLink" href=${item.url}>
                    <div class="aa-ItemContent">
                      <div class="aa-ItemIcon aa-ItemIcon--noBorder">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                          <path d="M12.516 6.984v5.25l4.5 2.672-0.75 1.266-5.25-3.188v-6h1.5zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z" />
                        </svg>
                      </div>
                      <div class="aa-ItemContentBody">
                        <div class="aa-ItemContentTitle">
                          ${components.Highlight({ attribute: 'title', hit: item })}
                        </div>
                      </div>
                    </div>
                    <div class="aa-ItemActions">
                      <button
                        class="aa-ItemActionButton aa-ItemActionButtonDanger"
                        title="Remove this search"
                        onclick=${event => removeRecentItem(event)}
                      >
                        <svg
                          viewBox="0 0 24 24"
                          width="18"
                          height="18"
                          fill="currentColor"
                        >
                          <path d="M18 7v13c0 0.276-0.111 0.525-0.293 0.707s-0.431 0.293-0.707 0.293h-10c-0.276 0-0.525-0.111-0.707-0.293s-0.293-0.431-0.293-0.707v-13zM17 5v-1c0-0.828-0.337-1.58-0.879-2.121s-1.293-0.879-2.121-0.879h-4c-0.828 0-1.58 0.337-2.121 0.879s-0.879 1.293-0.879 2.121v1h-4c-0.552 0-1 0.448-1 1s0.448 1 1 1h1v13c0 0.828 0.337 1.58 0.879 2.121s1.293 0.879 2.121 0.879h10c0.828 0 1.58-0.337 2.121-0.879s0.879-1.293 0.879-2.121v-13h1c0.552 0 1-0.448 1-1s-0.448-1-1-1zM9 5v-1c0-0.276 0.111-0.525 0.293-0.707s0.431-0.293 0.707-0.293h4c0.276 0 0.525 0.111 0.707 0.293s0.293 0.431 0.293 0.707v1zM9 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1zM13 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1z" />
                        </svg>
                      </button>
                    </div>
                  </a>
                `);
              }
            }
          };
        }
      });

      const { getAlgoliaSearchParams, ...data } = plugin.data;

      return {
        ...plugin,
        data
      };
    }
</script>

<script>
  function createMostPopularSearchesPlugin(){
    const popularSearchers = createQuerySuggestionsPlugin({
      searchClient,
      indexName: 'web_query_suggestions_dev',
      getSearchParams({ state }) {
        return { hitsPerPage: 3 };
      },
      transformSource({ source, onTapAhead }) {
        const onSelectSuggestion = (event, item) => {
          event.preventDefault();
          event.stopPropagation();
          onTapAhead(item)
        };

        return {
          ...source,
          templates: {
            ...source.templates,
            header({ state, html }) {
              if (state.query) {
                return null;
              }

              return (html`
                <div>
                  <span className="aa-SourceHeaderTitle">Popular searches</span>
                </div>
              `);
            },
            item({html, item}){


              return (html`
                <div class="aa-ItemWrapper" onclick=${event => onSelectSuggestion(event, item)}>
                  <div class="aa-ItemContent">
                    <div class="aa-ItemIcon aa-ItemIcon--noBorder">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                          <path d="M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"></path>
                        </svg>
                    </div>
                    <div class="aa-ItemContentBody">
                        <div class="aa-ItemContentTitle">${item.query}</div>
                    </div>
                  </div>
                  <div class="aa-ItemActions">
                    <button class="aa-ItemActionButton" title=${`Fill query with "${item.query}"`}>
                        <svg viewBox="0 0 24 24" fill="currentColor">
                          <path d="M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z"></path>
                        </svg>
                    </button>
                  </div>
                </div>
              `)
            }
          },
          onSelect({event, item, setIsOpen, itemInputValue, setQuery, refresh, ...rest}) {
            setIsOpen(true);
          },
        };
      },
    })

    return popularSearchers
  }
</script>

<script>
    const appId = "VHYJO45TI4";
    const apiKey = "9d5f273e78238a8c505526e481c857f7";
    const searchClient = algoliasearch(appId, apiKey);
    const hitsPerPage = 20

    function getSources({ query, state }) {
        if (!query) {
          return [];
        }

        return [
          {
            sourceId: "docs",
            getItems() {
              return getAlgoliaResults({
                searchClient,
                queries: [
                  {
                    indexName: "starknet-docs-master",
                    query,
                    params: {
                      attributesToSnippet: ["title:8", "content:10"],
                      snippetEllipsisText: "",
                      hitsPerPage,
                    }
                  }
                ]
              });
            },
            getItemUrl({ item }) {
              return `${item.url}`;
            },
            onSelect({ item }) {
              recentlyViewedItems.data.addItem({
                id: item.objectID,
                title: item.title || item.content,
                url: item.url
              });
            },
            templates: {
              header({html, items}) {
                if(items.length === 0){
                  return null
                }
                return (
                  html`<span class="aa-SourceHeaderTitle">Documentation</span>`
                );
              },
              item({ item: hit, components, html}) {
                return (html`
                    <a href=${hit.url} class="aa-ItemLink">
                      <div class="aa-ItemContent">
                        <div class="aa-ItemIcon aa-ItemIcon--noBorder">
                          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5999 9.99999C19.5999 15.3019 15.3018 19.6 9.9999 19.6C4.69797 19.6 0.399902 15.3019 0.399902 9.99999C0.399902 4.69806 4.69797 0.399994 9.9999 0.399994C15.3018 0.399994 19.5999 4.69806 19.5999 9.99999ZM17.7961 10.2449C17.6667 14.4394 14.2258 17.8 9.9999 17.8C5.69208 17.8 2.1999 14.3078 2.1999 9.99999C2.1999 6.55187 4.43732 3.62632 7.53954 2.59597L6.31196 4.74422C5.92196 5.42673 6.03701 6.28582 6.59284 6.84165C7.12339 7.37219 7.9339 7.50372 8.60499 7.16818L8.81467 7.06334C8.89798 7.02168 8.98985 6.99999 9.083 6.99999H9.25807C9.48534 6.99999 9.69309 7.1284 9.79473 7.33167C9.87919 7.50058 9.87919 7.69941 9.79473 7.86832L9.76138 7.93502C9.68018 8.09741 9.51421 8.19999 9.33265 8.19999H8.73006C7.82327 8.19999 6.97648 8.65319 6.47348 9.40768L6.42091 9.48654C5.98984 10.1331 5.88144 10.9426 6.12719 11.6798C6.37831 12.4331 6.97335 13.0237 7.72395 13.2739C8.00786 13.3685 8.19971 13.635 8.19971 13.9298V15.1895C8.19971 15.9685 8.8312 16.6 9.61018 16.6C10.0387 16.6 10.4439 16.4052 10.7116 16.0706L12.6452 13.6536C12.8747 13.3667 12.9997 13.0103 12.9997 12.643C12.9997 12.2639 13.1533 11.8949 13.4236 11.6246C13.9704 11.0778 14.0636 10.2141 13.6307 9.56485L13.074 8.72974C13.0256 8.65709 12.9997 8.57174 12.9997 8.48444C12.9997 8.12003 13.4157 7.91201 13.7073 8.13066L14.1185 8.4391C14.4975 8.7233 15.0044 8.76847 15.4274 8.55695C15.6984 8.42147 16.0258 8.47464 16.2395 8.68826L17.7961 10.2449Z" fill="currentColor"/>
                          </svg>
                        </div>
                        <div class="aa-ItemContentBody">
                          <div class="aa-ItemContentTitle">
                            ${components.Highlight({ attribute: 'value', hit: hit['_snippetResult'].content })}
                          </div>
                          <div class="aa-ItemContentSubtitle">
                            ${components.Highlight({ attribute: 'value', hit: hit['_snippetResult'].title })}
                          </div>
                        </div>
                      </div>
                      <div class="aa-ItemActions">
                        <button
                          class="aa-ItemActionButton"
                          title="Visit this link"
                        >
                          <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.35103 3.1786C9.69424 3.53815 9.68099 4.10784 9.32144 4.45105L4.34632 9.20003H16.35C19.9122 9.20003 22.8 12.0878 22.8 15.65C22.8 19.2123 19.9122 22.1 16.35 22.1H12.9C12.403 22.1 12 21.6971 12 21.2C12 20.703 12.403 20.3 12.9 20.3H16.35C18.9181 20.3 21 18.2182 21 15.65C21 13.0819 18.9181 11 16.35 11H4.34632L9.32144 15.749C9.68099 16.0922 9.69424 16.6619 9.35103 17.0215C9.00783 17.381 8.43813 17.3943 8.07858 17.051L1.47858 10.751C1.30067 10.5812 1.20001 10.346 1.20001 10.1C1.20001 9.85407 1.30067 9.61883 1.47858 9.44901L8.07858 3.14901C8.43813 2.8058 9.00783 2.81905 9.35103 3.1786Z" fill="currentColor"/>
                          </svg>
                        </button>
                      </div>
                    </a>
                  `)
              },
              noResults({state, html}) {
                return (html`
                  No results for <bold>"${state.query}"</bold> 
                `);
              }
            }
          }
        ];
    };

    const recentlyViewedItems = createLocalStorageRecentlyViewedItems({
      key: "RECENTLY_VIEWED",
      limit: 5
    });

    const mostPopulerSearches = createMostPopularSearchesPlugin()

    autocomplete({
      container: "#autocomplete",
      placeholder: "Search",
      openOnFocus: true,
      detachedMediaQuery: "",
      getSources,
      plugins: [recentlyViewedItems, mostPopulerSearches],
    });
</script>

<script>
  const modalBreakpoint = 680;
  const modalClassname = 'aa-DetachedContainer--modal'

  function toggleAlgoliaModal(){
      const algoliaDetachedContainer = document.querySelector('.aa-DetachedContainer')
      if(!algoliaDetachedContainer){
        return
      }
      const documentWidth = document.documentElement.clientWidth;
      if(documentWidth >= modalBreakpoint){
        algoliaDetachedContainer.classList.add(modalClassname)
      }else {
        algoliaDetachedContainer.classList.remove(modalClassname)
      }
  }

  // Attaching the event listener function to window's resize event
  window.addEventListener("resize", toggleAlgoliaModal);

  // Calling the function for the first time
  toggleAlgoliaModal();

</script>
  </body>
</html>
